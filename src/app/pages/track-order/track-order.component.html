<section class="d-flex justify-content-between align-items-center">
    <div class="d-flex justify-content-between align-items-center">
        <img class="order-tracking-display-profile" src="https://github.com/mdo.png" alt="Profile Picture">
        <div>
            <h3 class="header">Sheet Metal for GMW</h3>
            <span class="light-text">abcdef@gmail.com</span>
        </div>
    </div>
    
    <div class="available-buttons d-flex justify-content-between align-items-center">
        <button class="btn btn-dext">
            <i class="bi bi-plus-circle-fill"></i>
            <span>Add Team</span>
        </button>
        <button class="btn btn-dext">
            <i class="bi bi-filter-circle-fill"></i>
            <span>Organize</span>
        </button>
    </div>
</section>
<section class="pb-2 cardbox-section">
    <div class="row card-container">
        <div *ngFor="let track of ourTrackingList" class="click-card col-2">
            <p class="red text-center">{{track.data.progress || "TBH"}}</p>
            <div (click)="showDetailsOfStage(track.data.stageName, track.data.progress === '')" class="cardbox card-flex-end" [ngClass]="{'completed': track.data.progress === 'Done', 'delayed' : track.data.progress === 'TBH - DELAYED', 'shadow': track.isSelected, 'not-clickable': track.data.progress === ''}">
                <p><i class="bi bi-box-arrow-in-left"></i> {{track.data.stageName}}</p>
                <hr>
                <p>{{track.data.estimateDate}}</p>
                <p class="more-smaller">{{track.data.estimateTime}}</p>
            </div>
            <p class="text-center" *ngIf="track.isSelected" style="font-size: 1.3rem;">
                <i class="bi bi-chevron-double-down"></i>
            </p>
        </div>
    </div>
</section>

<ngContainer *ngIf="showMainTimeLine">
    <section class="timeline-section">
        <p class="light-text pb-3">Timeline of the Project</p>
        <div class="cardbox timeline-card">
            <div class="row timeline-options-value-1">
                <div class="col">20/09/2021</div>
                <div class="col">20/09/2021</div>
                <div class="col">20/09/2021</div>
                <div class="col">20/09/2021</div>
                <div class="col">20/09/2021</div>
            </div>
            <div class="timeline-options">
                <span class="option done"></span>
                <span class="option"></span>
                <span class="option"></span>
                <span class="option"></span>
                <span class="option"></span>
            </div>
            <div class="row timeline-options-value-2">
                <div class="col">Order has been generated by BHEL</div>
                <div class="col">Picked up from warehouse by Ashish</div>
                <div class="col">Maunfacturing Underway</div>
                <div class="col">Picked up from warehouse by Ashish</div>
                <div class="col">Picked up from warehouse by Ashish</div>
            </div>
        </div>
    </section>
    
    <section>
        <p class="light-text">
            Documents Related to Project/Project Stage
        </p>
        <div id="carouselExampleControls" class="mt-1 carousel slide carousel-silder-docs" data-ride="carousel" data-interval="false">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="row">
                        <div class="col">
                            <div class="card">
                                <div class="card-body p-3">
                                    <div class="card bg-blue mb-3">
                                    </div>
                                    <h5 class="card-title">CAD Drawings</h5>
                                    <span class="card-text text-muted">18th March, 2021</span>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card">
                                <div class="card-body p-3">
                                    <div class="card bg-green mb-3">
                                    </div>
                                    <h5 class="card-title">Parts</h5>
                                    <span class="card-text text-muted">18th March, 2021</span>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card">
                                <div class="card-body p-3">
                                    <div class="card bg-red mb-3">
                                    </div>
                                    <h5 class="card-title">Design</h5>
                                    <span class="card-text text-muted">18th March, 2021</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="row">
                        <div class="col">
                            <div class="card">
                                <div class="card-body p-3">
                                    <div class="card bg-black-grey mb-3">
                                    </div>
                                    <h5 class="card-title">CAD Drawings</h5>
                                    <span class="card-text text-muted">18th March, 2021</span>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card">
                                <div class="card-body p-3">
                                    <div class="card bg-dext-theme-color mb-3">
                                    </div>
                                    <h5 class="card-title">Par2ts</h5>
                                    <span class="card-text text-muted">18th March, 2021</span>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card">
                                <div class="card-body p-3">
                                    <div class="card bg-green mb-3">
                                    </div>
                                    <h5 class="card-title">Design</h5>
                                    <span class="card-text text-muted">18th March, 2021</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="row">
                        <div class="col">
                            <div class="card">
                                <div class="card-body p-3">
                                    <div class="card bg-blue mb-3">
                                    </div>
                                    <h5 class="card-title">CAD Drawings</h5>
                                    <span class="card-text text-muted">18th March, 2021</span>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card">
                                <div class="card-body p-3">
                                    <div class="card bg-green mb-3">
                                    </div>
                                    <h5 class="card-title">Parts</h5>
                                    <span class="card-text text-muted">18th March, 2021</span>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card">
                                <div class="card-body p-3">
                                    <div class="card bg-red mb-3">
                                    </div>
                                    <h5 class="card-title">Design</h5>
                                    <span class="card-text text-muted">18th March, 2021</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    
            <div class="pt-3 next-prev" style="display: flex; justify-content: space-between;">
                <a href="#carouselExampleControls" role="button" data-slide="prev">
                    <span>Previous</span>
                </a>
                <a class="" href="#carouselExampleControls" role="button" data-slide="next">
                    <span>Next</span>
                </a>
            </div>
        </div>
    </section>
</ngContainer>
    

<ngContainer *ngIf="stageToExpand != null">
    <app-order-stage-track [stageDetails]="stageToExpand"></app-order-stage-track>
</ngContainer>
